#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <Windows.h>
#include <time.h>
#include <conio.h>

#define RED 12
#define BLUE 9
#define GREEN 10
#define YELLOW 14
#define WHITE 15

void textColor(int colorNum);
void gotoxy(int x, int y);
void printInCell(int x, int y, char* text, int price, int idx);
void draw_board();
void init_deeds();
void init_players(int player_cnt);
int roll_dice();
void buy_land(struct player* player, struct deed* land);
void pay_toll(struct player* player, struct deed* land);
void game_start();

struct deed {
    char name[40];      // 토지 이름
    int areaNum;        // 빨초노검 구역
    int ownerNum;       // 0: 없음
    int buildingLevel;  // 건물 레벨
    int price[5];       // 대지, 별장1, 별장2, 빌딩, 호텔 가격
    int toll[5];        // 통행료
    int isCanBuild;     // 건설 가능 여부
};

struct player {
    int color;
    int position;
    int money;
};

struct goldenKey {
    int id;
    char name[50];
    char desc[100];
};

struct deed Deeds[29];
struct player Players[2];

int curr_arrow_pos;

void textColor(int colorNum) {
    SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), colorNum);
}

void gotoxy(int x, int y) {
    COORD pos = { x, y };
    SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), pos);
}

void printInCell(int x, int y, char* text, int price, int idx) {
    char line[2][10 + 1] = { "" };  // 줄바꿈된 텍스트를 저장할 배열
    int len = strlen(text);                        // 텍스트 길이
    int currentLine = 0, currentChar = 0;          // 현재 줄과 문자 위치

    if (!strcmp(text, "황금열쇠")) {
        textColor(6);
    }
    else if (!strcmp(text, "출발      <---")) {
        textColor(RED);
    }
    else if (!strcmp(text, "무인도")) {
        textColor(GREEN);
    }
    else if (!strcmp(text, "사회복지기금 수령처")) {
        textColor(6);
    }
    else if (!strcmp(text, "우주여행")) {
        textColor(13);
    }

    // 문자열을 칸 너비에 맞게 나누기
    for (int i = 0; i < len; i++) {
        line[currentLine][currentChar++] = text[i];
        if (currentChar == 10 || i == len - 1) {
            line[currentLine][currentChar] = '\0'; // 줄 끝에 NULL 추가
            currentLine++;
            currentChar = 0;
            if (currentLine >= 2) break;   // 최대 줄 수 초과 시 중단
        }
    }

    // 나눈 텍스트 출력 (칸 내부에 맞춰 출력)
    for (int i = 0; i < currentLine; i++) {
        if (strlen(text) <= 4 || !price) {
            gotoxy(x, y + i+ 1);
        }
        else {
            gotoxy(x, y + i);                        // 각 줄의 위치 설정
        }
        printf("%s\n", line[i]);
    }
    //if (Players[0].position == idx) {
    //    textColor(RED);
    //    printf("●");
    //}
    //if (Players[1].position == idx) {
    //    textColor(BLUE);
    //    printf("●");
    //}
    //textColor(WHITE);

    // 금액 출력 (칸의 마지막 줄에 배치)
    if(price) {
        gotoxy(x, y + 3);
        printf("%d원", price);
    }
    textColor(WHITE);


    // 플레이어 말 출력
}

void show_player_status() {
    gotoxy(140, 15);
    textColor(RED);
    printf("Player1 정보");
    gotoxy(140, 16);
    printf("위치: %d", Players[0].position);
    gotoxy(140, 17);
    printf("자금: %d원", Players[0].money);

    gotoxy(140, 19);
    textColor(BLUE);
    printf("Player2 정보");
    gotoxy(140, 20);
    printf("위치: %d", Players[1].position);
    gotoxy(140, 21);
    printf("자금: %d원", Players[1].money);

    textColor(15);
}

void draw_players() {
    char* player1_marker = "●";
    char* player2_marker = "●";
    int p1_x, p1_y, p2_x, p2_y;

    // Player1 위치 계산 (빨간색)
    if (0 <= Players[0].position && Players[0].position <= 9) {
        p1_x = 111 - (Players[0].position * 11);
        p1_y = 52;
    }
    else if (10 <= Players[0].position && Players[0].position <= 19) {
        p1_x = 1;
        p1_y = 51 - ((Players[0].position - 10) * 5);
    }
    else if (20 <= Players[0].position && Players[0].position <= 29) {
        p1_x = 1 + ((Players[0].position - 20) * 11);
        p1_y = 1;
    }
    else if (30 <= Players[0].position && Players[0].position <= 39) {
        p1_x = 112;
        p1_y = 1 + ((Players[0].position - 30) * 5);
    }

    // Player2 위치 계산 (파란색)
    if (0 <= Players[1].position && Players[1].position <= 9) {
        p2_x = 111 - (Players[1].position * 11) + 2;  // Player1보다 약간 오른쪽에 위치
        p2_y = 52;
    }
    else if (10 <= Players[1].position && Players[1].position <= 19) {
        p2_x = 1;
        p2_y = 51 - ((Players[1].position - 10) * 5) + 1;  // Player1보다 약간 아래에 위치
    }
    else if (20 <= Players[1].position && Players[1].position <= 29) {
        p2_x = 1 + ((Players[1].position - 20) * 11) + 2;
        p2_y = 1;
    }
    else if (30 <= Players[1].position && Players[1].position <= 39) {
        p2_x = 112;
        p2_y = 1 + ((Players[1].position - 30) * 5) + 1;
    }

    // Player1 (빨간색) 표시
    gotoxy(p1_x, p1_y);
    textColor(RED);
    printf("%s", player1_marker);

    // Player2 (파란색) 표시
    gotoxy(p2_x, p2_y);
    textColor(BLUE);
    printf("%s", player2_marker);

    // 색상 원래대로
    textColor(15);
}

void draw_board() {
    //맨 윗라인
    gotoxy(0, 0);
    puts("┌──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┐");
    for (int i = 0; i < 4; i++) {
        for (int i = 0; i < 11; i++) {
            printf("│          ");
        }
        puts("│");
    }
    puts("├──────────┼──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┼──────────┤");

    // 중간 라인
    for (int i = 0; i < 8; i++) {
        for (int j = 0; j < 4; j++) {
            puts("│          │                                                                                                  │          │");
        }
        puts("├──────────┤                                                                                                  ├──────────┤");
    }



    for (int j = 0; j < 4; j++) {
        puts("│          │                                                                                                  │          │");
    }

    // 맨 아랫라인
    puts("├──────────┼──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┬──────────┼──────────┤");
    for (int i = 0; i < 4; i++) {
        for (int i = 0; i < 11; i++) {
            printf("│          ");
        }
        puts("│");
    }
    puts("└──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┴──────────┘");



    char title_art[12][150] = {
        //"    ■■          ■■      ■■■■■■■■                      ■        ■            ■    ",
        //"    ■■          ■■                  ■■      ■■■■■■    ■        ■■■■■■■■    ",
        //"    ■■■■■■■■■      ■■■■■■■■      ■        ■    ■        ■            ■    ",
        //"    ■■          ■■      ■■                  ■        ■    ■        ■■■■■■■■    ",
        //"    ■■■■■■■■■      ■■                  ■        ■    ■■■■                      ",
        //"                            ■■■■■■■■■    ■        ■    ■■■■■■■■■■■■■■■",
        //"                                                  ■        ■    ■              ■■          ",
        //"■■■■■■■■■■■■■■■■■■■■■■■■  ■        ■    ■        ■■■■■■■■    ",
        //"          ■■                    ■■            ■■■■■■    ■                      ■    ",
        //"          ■■                    ■■                            ■        ■■■■■■■■    ",
        //"          ■■                    ■■                            ■        ■                  ",
        //"          ■■                    ■■                            ■        ■■■■■■■■■  "
        "  ■■     ■■    ■■■■■■■■            ■    ■      ■  ",
        "  ■■     ■■          ■■    ■■■■■■  ■    ■■■■■■■■  ",
        "  ■■■■■■■■■    ■■■■■■■■    ■    ■  ■    ■      ■  ",
        "  ■■     ■■    ■■          ■    ■  ■    ■■■■■■■■  ",
        "  ■■■■■■■■■    ■■          ■    ■  ■■■■            ",
        "               ■■■■■■■■■   ■    ■  ■■■■■■■■■■■■■■■",
        "                           ■    ■  ■       ■■      ",
        "■■■■■■■■■■■■■■■■■■■■■■■■■  ■    ■  ■    ■■■■■■■■  ",
        "      ■■          ■■       ■■■■■■  ■           ■  ",
        "      ■■          ■■               ■    ■■■■■■■■  ",
        "      ■■          ■■               ■    ■          ",
        "      ■■          ■■               ■    ■■■■■■■■■ ",

    }; 

    int title_x=37, title_y=10;
    for (int i = 0; i < 12; i++) {
        gotoxy(title_x, title_y+i);
        puts(title_art[i]);
    }

    char key_art[7][100] = {
        "┌────────────────────────────┐",
        "│  .---.                     │",
        "│ /    |\\________________    │",
        "│ | ()  | ________   _   _)  │",
        "│ \\    |/        | | | |     │",
        "│  `---'         \" - \" |_|   │",
        "└────────────────────────────┘"
    };

    textColor(YELLOW);
    int key_x=47, key_y=40;
    for (int i = 0; i < 7; i++) {
        gotoxy(key_x, key_y + i);
        puts(key_art[i]);
    }
    textColor(15);


    // (x,y)에서 시작
    // 오른쪽으로 한칸 : (x+11, y)
    // 아래쪽으로 한칸 : (x, y+5)
    
    char names[40][40] = { "출발      <---", "1", "황금열쇠", "1","1","1","1", "황금열쇠", "1","1", "무인도", "1", "황금열쇠", "1","1","1","1", "황금열쇠", "1","1", "사회복지기금 수령처", "1", "황금열쇠", "1","1","1","1","1","1","1","우주여행", "1","1","1","1", "황금열쇠", "1","1", "사회복지기금", "1"};
    int cnt = 0;
    int curr_x = 111, curr_y = 51;
    for (int i = 0; i < 10; i++) {
        if (!strcmp(names[i], "1")) {
            printInCell(curr_x, curr_y, Deeds[cnt].name, 0, i);
            cnt++;
            curr_x -= 11;
        }
        else {
            printInCell(curr_x, curr_y, names[i], 0, i);
            curr_x -= 11;
        }
    }

    for (int i = 10; i < 20; i++) {
        if (!strcmp(names[i], "1")) {
            printInCell(curr_x, curr_y, Deeds[cnt].name, 0, i);
            cnt++;
            curr_y -= 5;
        }
        else {
            printInCell(curr_x, curr_y, names[i], 0, i);
            curr_y -= 5;
        }
    }

    for (int i = 20; i < 30; i++) {
        if (!strcmp(names[i], "1")) {
            printInCell(curr_x, curr_y, Deeds[cnt].name, 0, i);
            cnt++;
            curr_x += 11;
        }
        else {
            printInCell(curr_x, curr_y, names[i], 0, i);
            curr_x += 11;
        }
    }

    for (int i = 30; i < 40; i++) {
        if (!strcmp(names[i], "1")) {
            printInCell(curr_x, curr_y, Deeds[cnt].name, 0, i);
            cnt++;
            curr_y += 5;
        }
        else {
            printInCell(curr_x, curr_y, names[i], 0, i);
            curr_y += 5;
        }
    }

    char dice_board_art[13][180] = {
        "┌───────────────────────────────────────────────────────┐",
        "│                                                       │",
        "│                                                       │",
        "│                                                       │",
        "│                                                       │",
        "│                                                       │",
        "│                                                       │",
        "│                                                       │",
        "│                                                       │",
        "│                                                       │",
        "│                                                       │",
        "│                                                       │",
        "└───────────────────────────────────────────────────────┘",
    };
    curr_x = 34, curr_y = 25;
    for (int i = 0; i < 13; i++) {
        gotoxy(curr_x, curr_y + i);
        puts(dice_board_art[i]);
    }


    show_player_status();
    

}


void init_deeds() {
    char names[29][40] = {
    "타이베이", "베이징", "마닐라", "제주도", "싱가포르", "카이로", "이스탄불", 
    "아네테", "코펜하겐", "스톡홀름", "콩코드 여객기", "베른", "베를린", "오타와",
    "부에노스 아이레스", "상파울루", "시드니", "부산", "하와이", "리스본", "퀸 엘리자베스 호", "마드리드",
    "도쿄", "컬럼비아호", "파리", "로마", "런던", "뉴욕", "서울"
    };
    int each_area_num[4] = { 7, 7, 8, 7 };
    int ownerNum = 0;
    int buildingLevel = 0;
    int prices[29][5] = { // 구매가 : 토지, 별장, 별장2, 빌딩, 호텔
        {50000, 50000, 100000, 150000, 250000}, {80000, 50000, 100000, 150000, 250000}, {80000, 50000, 100000, 150000, 250000}, {200000}, {100000, 50000, 100000, 150000, 250000}, {100000, 50000, 100000, 150000, 250000}, {120000, 50000, 100000, 150000, 250000},
        {140000, 100000, 200000, 300000, 500000}, {160000, 100000, 200000, 300000, 500000}, {160000, 100000, 200000, 300000, 500000}, {200000}, {180000, 100000, 200000, 300000, 500000}, {180000, 100000, 200000, 300000, 500000}, {200000, 100000, 200000, 300000, 500000},
        {220000, 150000, 300000, 400000, 750000}, {240000, 150000, 300000, 450000, 750000}, {240000, 150000, 300000, 450000, 750000}, {500000}, {260000, 150000, 300000, 450000, 750000}, {260000, 150000, 300000, 450000, 750000}, {300000}, {280000, 150000, 300000, 450000, 750000},
        {300000, 200000, 400000, 600000, 1000000}, {450000}, {320000, 200000, 400000, 600000, 1000000}, {320000, 200000, 400000, 600000, 1000000}, {350000, 200000, 400000, 600000, 1000000}, {350000, 200000, 400000, 600000, 1000000}, {1000000}
    };
    int tolls[29][5] = { // 통행료: 토지, 별장, 별장2, 빌딩, 호텔
        {2000, 10000, 30000, 90000, 250000}, {4000, 20000, 60000, 180000, 450000}, {4000, 20000, 60000, 180000, 450000}, {300000}, {6000, 30000, 90000, 270000, 550000}, {6000, 30000, 90000, 270000, 550000}, {8000, 40000, 100000, 300000, 600000},
        {10000, 50000, 150000, 450000, 750000}, {12000, 60000, 180000, 500000, 900000}, {12000, 60000, 180000, 500000, 900000}, {300000}, {14000, 70000, 200000, 550000, 950000}, {14000, 70000, 200000, 550000, 950000}, {16000, 80000, 220000, 600000, 1000000},
        {180000, 90000, 250000, 700000, 1050000}, {20000, 100000, 300000, 750000, 1100000}, {20000, 100000, 300000, 750000, 1100000}, {600000}, {22000, 110000, 330000, 800000, 1150000}, {22000, 110000, 330000, 800000, 1150000}, {250000}, {24000, 120000, 360000, 850000, 1200000},
        {26000, 130000, 390000, 900000, 1270000}, {300000}, {28000, 150000, 450000, 1000000, 1400000}, {28000, 150000, 450000, 1000000, 1400000}, {35000, 170000, 500000, 1100000, 1500000}, {35000, 170000, 500000, 1100000, 1500000}, {2000000}
    };

    for (int i = 0; i < 29; i++) { // Deeds init
        strncpy(Deeds[i].name, names[i], sizeof(Deeds[i].name));
        Deeds[i].ownerNum = -1; // -1 : 소유자X
        Deeds[i].buildingLevel = 0;
        for (int j = 0; j < 5; j++) {
            Deeds[i].price[j] = prices[i][j];
            Deeds[i].toll[j] = tolls[i][j];
        }
    }

    for (int i = 0; i < 4; i++) { // areaNum 초기화, 0123: 빨초노검
        for (int j = 0; j < each_area_num[i]; j++) {
            Deeds[j].areaNum = i;
        }
    }
}

void init_players(int player_cnt) {
    for (int i = 0; i < player_cnt; i++) {
        Players[i].position = 0;
        Players[i].money = 2430000;
    }
}

int pick_golden_key(struct player* player) {
    printf("1");
}

void draw_dice(int num, int is_second) {
    // 주사위 시작 위치 (첫 번째 주사위는 왼쪽, 두 번째는 오른쪽)
    int start_x = is_second ? 67 : 47;
    int start_y = 29;

    // 주사위 테두리와 내부
    char* dice_art[5] = {
        "┌───────┐",
        "│       │",
        "│       │",
        "│       │",
        "└───────┘"
    };

    // 주사위 그리기
    for (int i = 0; i < 5; i++) {
        gotoxy(start_x, start_y + i);
        printf("%s", dice_art[i]);
    }

    // 주사위 눈 그리기
    switch (num) {
    case 1:
        gotoxy(start_x + 4, start_y + 2);
        printf("●");
        break;
    case 2:
        gotoxy(start_x + 2, start_y + 1);
        printf("●");
        gotoxy(start_x + 6, start_y + 3);
        printf("●");
        break;
    case 3:
        gotoxy(start_x + 2, start_y + 1);
        printf("●");
        gotoxy(start_x + 4, start_y + 2);
        printf("●");
        gotoxy(start_x + 6, start_y + 3);
        printf("●");
        break;
    case 4:
        gotoxy(start_x + 2, start_y + 1);
        printf("●");
        gotoxy(start_x + 6, start_y + 1);
        printf("●");
        gotoxy(start_x + 2, start_y + 3);
        printf("●");
        gotoxy(start_x + 6, start_y + 3);
        printf("●");
        break;
    case 5:
        gotoxy(start_x + 2, start_y + 1);
        printf("●");
        gotoxy(start_x + 6, start_y + 1);
        printf("●");
        gotoxy(start_x + 4, start_y + 2);
        printf("●");
        gotoxy(start_x + 2, start_y + 3);
        printf("●");
        gotoxy(start_x + 6, start_y + 3);
        printf("●");
        break;
    case 6:
        gotoxy(start_x + 2, start_y + 1);
        printf("●");
        gotoxy(start_x + 6, start_y + 1);
        printf("●");
        gotoxy(start_x + 2, start_y + 2);
        printf("●");
        gotoxy(start_x + 6, start_y + 2);
        printf("●");
        gotoxy(start_x + 2, start_y + 3);
        printf("●");
        gotoxy(start_x + 6, start_y + 3);
        printf("●");
        break;
    }
}

// 주사위 굴리기 함수
int roll_dice() {
    srand(time(NULL));

    // 첫 번째 주사위
    int dice1 = rand() % 6 + 1;
    draw_dice(dice1, 0);  // 왼쪽에 그리기

    // 잠시 대기
    Sleep(500);

    // 두 번째 주사위
    int dice2 = rand() % 6 + 1;
    draw_dice(dice2, 1);  // 오른쪽에 그리기

    // 주사위 합계 표시
    gotoxy(45, 34);
    return dice1 + dice2;
}

void message(int x, int y, char text[60]) {
    gotoxy(x, y);
    puts(text);
}


void land_info(struct player* player) {
    int pos = player->position;
    char names[40][40] = { "출발", "1", "황금열쇠", "1","1","1","1", "황금열쇠", "1","1", "무인도", "1", "황금열쇠", "1","1","1","1", "황금열쇠", "1","1", "사회복지기금 수령처", "1", "황금열쇠", "1","1","1","1","1","1","1","우주여행", "1","1","1","1", "황금열쇠", "1","1", "사회복지기금", "1" };

    gotoxy(140, 32);
    printf("현재 위치: ");

    if (strcmp(names[pos], "1") == 0) {
        // 일반 땅인 경우
        int deed_index = 0;
        for (int i = 0; i < pos; i++) {
            if (strcmp(names[i], "1") == 0) {
                deed_index++;
            }
        }

        printf("%s", Deeds[deed_index].name);
        gotoxy(140, 33);
        printf("토지가격: %d원", Deeds[deed_index].price[0]);
        gotoxy(140, 34);
        if (Deeds[deed_index].ownerNum == -1) {
            printf("소유자: 없음");
        }
        else {
            printf("소유자: Player%d", Deeds[deed_index].ownerNum + 1);
        }
        gotoxy(140, 35);
        printf("건물 레벨: %d", Deeds[deed_index].buildingLevel);
    }
    else {
        // 특수 칸인 경우
        printf("%s", names[pos]);
        if (strcmp(names[pos], "황금열쇠") == 0) {
            gotoxy(140, 33);
            printf("황금열쇠를 뽑습니다.");
        }
    }
}

void my_turn(struct player* player) {
    char key;
    int dice_value;

    while (1) {
        message(140, 31, "땅 정보[Space] | 주사위 굴리기[k]");
        key = _getch();

        if (key == ' ') {  // 스페이스바
            system("cls");
            draw_board();
            land_info(player);
        }
        else if (key == 'k') {  // k키
            gotoxy(140, 31);
            printf("                                     ");  // 이전 메시지 지우기

            dice_value = roll_dice();
            gotoxy(35, 26);
            printf("주사위 값: %d", dice_value);

            // 말 이동
            player->position = (player->position + dice_value) % 40;
            break;
        }
        else {
            message(140, 32, "올바르지 않은 키입니다!");
            Sleep(1000);
            gotoxy(140, 32);
            printf("                          ");  // 에러 메시지 지우기
        }
    }
}

void game_start() {
    srand(time(NULL));
    system("cls");
    int player_cnt;
    char key;

    init_deeds();
    draw_board();


    player_cnt = 2;
    // 플레이어 초기화
    init_players(player_cnt);

    // 주사위 굴려서 턴 순서 정하기
    int dice_values[4] = { 0 };  // 각 플레이어의 주사위 값 저장
    int turn_order[4] = { 0, 1, 2, 3 };  // 턴 순서 저장

    system("cls");
    draw_board();

    // 각 플레이어가 주사위 굴리기
    for (int i = 0; i < player_cnt; i++) {
        gotoxy(140, 30);
        printf("Player%d 주사위 굴리기 [k]", i + 1);

        while (1) {
            key = _getch();
            if (key == 'k') {
                dice_values[i] = roll_dice();
                gotoxy(35, 26);
                printf("Player%d의 주사위: %d", i + 1, dice_values[i]);
                Sleep(1000);  // 잠시 대기
                break;
            }
        }
        system("cls");
        draw_board();
    }

    // 주사위 값에 따라 턴 순서 정렬 (버블 정렬)
    for (int i = 0; i < player_cnt - 1; i++) {
        for (int j = 0; j < player_cnt - 1 - i; j++) {
            if (dice_values[j] < dice_values[j + 1]) {
                // 주사위 값 교환
                int temp = dice_values[j];
                dice_values[j] = dice_values[j + 1];
                dice_values[j + 1] = temp;

                // 턴 순서 교환
                temp = turn_order[j];
                turn_order[j] = turn_order[j + 1];
                turn_order[j + 1] = temp;
            }
        }
    }

    // 턴 순서 출력
    message(140, 30, "턴 순서가 정해졌습니다!");
    for (int i = 0; i < player_cnt; i++) {
        gotoxy(140, 32 + i);
        printf("%d번째 턴: Player%d (주사위:%d)", i + 1, turn_order[i] + 1, dice_values[i]);
    }
    Sleep(3000);  // 3초 대기

    // 게임 시작
    int current_turn = 0;
    while (1) {
        system("cls");
        draw_board();

        int current_player = turn_order[current_turn];
        gotoxy(140, 30);
        printf("Player%d의 턴입니다.", current_player + 1);

        my_turn(&Players[current_player]);

        current_turn = (current_turn + 1) % player_cnt;  // 다음 턴으로
        Sleep(1000);  // 1초 대기
    }
}

void set_fullscreen() {
    system("mode con: cols=1000 lines=80");  // 윈도우 cmd 창 크기를 설정 (전체화면처럼 보이게)
}

int main() {
    set_fullscreen();
    game_start();
    system("pause");
    gotoxy(60, 60);
}


/*
void buy_land(struct player* player, struct deed* land) {
    if (land->ownerNum == -1) { // 소유자가 없을 때만 구매 가능
        if (player->money >= land->price[0]) {
            player->money -= land->price[0];
            land->ownerNum = player - player;
            printf("%s가 %s를 구매했습니다!\n", player->name, land->name);
        }
        else {
            printf("자금이 부족합니다!\n");
        }
    }
    else {
        printf("이미 다른 플레이어가 소유하고 있습니다.\n");
    }
}

void pay_toll(struct player* player, struct deed* land) {
    if (land->ownerNum != player - player && land->ownerNum != -1) {
        int toll = land->toll[land->buildingLevel];
        player->money -= toll;
        player[land->ownerNum].money += toll;
        printf("%s가 %s의 통행료 %d원을 지불했습니다!\n", player->name, land->name, toll);
    }
}*/
